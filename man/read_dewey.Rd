% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/duckdb.r
\name{read_dewey}
\alias{read_dewey}
\title{Read a downloaded Dewey dataset}
\usage{
read_dewey(path, where = NULL)
}
\arguments{
\item{path}{Path to the downloaded dataset folder (e.g. \code{"C:/dewey-downloads/airline-employment"}).
Accepts the invisible return value of \code{download_dewey()} for piping.}

\item{where}{Optional SQL WHERE clause string (no validation â€” errors are on you).
Example: \code{where = "CARRIER_GROUP = 'Major'"}}
}
\value{
A tibble of the dataset.
}
\description{
Reads a locally downloaded Dewey dataset back into R as a tibble. Use after
\code{download_dewey()} or pass a path directly to a previously downloaded dataset.
}
\details{
For advanced queries, use DuckDB directly. deweyr sets up the path for you:

\if{html}{\out{<div class="sourceCode r">}}\preformatted{path_read <- gsub("\\\\\\\\", "/", "C:/your/path/to/dataset")
con <- DBI::dbConnect(duckdb::duckdb())
DBI::dbGetQuery(con, paste(
  "SELECT CARRIER_NAME, SUM(FULL_TIME) as total",
  "FROM read_parquet('", paste0(path_read, "/**/*.parquet'"), ", hive_partitioning=true)",
  "GROUP BY CARRIER_NAME"
))
DBI::dbDisconnect(con)
}\if{html}{\out{</div>}}
}
\examples{
\dontrun{
# Read after download
df <- read_dewey("C:/dewey-downloads/airline-employment")

# Pipe directly from download
df <- download_dewey(api_key, data_id, base_dir, partition = "MONTH_DATE_PARSED") |>
    read_dewey()

# Filter on read
df <- read_dewey("C:/dewey-downloads/airline-employment", where = "CARRIER_GROUP = 'Major'")
}

}
\seealso{
\code{vignette("advanced-queries", package = "deweyr")} for details on using
raw DuckDB SQL, window functions, and aggregations over downloaded data.
}
